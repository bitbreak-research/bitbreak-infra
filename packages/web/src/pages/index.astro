---
import { checkSession } from "../lib/auth/session";

export const prerender = false;

// Redirect to /workers if authenticated, otherwise to /login
const isAuthenticated = await checkSession();

if (isAuthenticated) {
  return Astro.redirect("/workers");
} else {
  return Astro.redirect("/login");
}
---
