---
import AuthLayout from "../layouts/AuthLayout.astro";
import { CreateWorkerForm, WorkersList } from "../features/workers";
import AuthGuard from "../features/auth/components/AuthGuard";

export const prerender = false;
---

<AuthLayout title="Workers">
  <AuthGuard client:load>
    <div class="space-y-8">
      <div class="text-center">
        <h1 class="text-2xl font-bold">Workers</h1>
        <p class="text-sm text-gray-600 mt-2">Manage Mac Mini worker machines</p>
      </div>
      
      <div class="space-y-6">
        <div>
          <h2 class="text-lg font-medium mb-4">Create New Worker</h2>
          <CreateWorkerForm client:load />
        </div>
        
        <div>
          <h2 class="text-lg font-medium mb-4">All Workers</h2>
          <WorkersList client:load />
        </div>
      </div>
    </div>
  </AuthGuard>
</AuthLayout>

