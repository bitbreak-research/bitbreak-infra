let l=[],s=0;const o=4,c=i=>{let a=[],e={get(){return e.lc||e.listen(()=>{})(),e.value},lc:0,listen(t){return e.lc=a.push(t),()=>{for(let u=s+o;u<l.length;)l[u]===t?l.splice(u,o):u+=o;let n=a.indexOf(t);~n&&(a.splice(n,1),--e.lc||e.off())}},notify(t,n){let u=!l.length;for(let r of a)l.push(r,e.value,t,n);if(u){for(s=0;s<l.length;s+=o)l[s](l[s+1],l[s+2],l[s+3]);l.length=0}},off(){},set(t){let n=e.value;n!==t&&(e.value=t,e.notify(n))},subscribe(t){let n=e.listen(t);return t(e.value),n},value:i};return e},f=c({isAuthenticated:!1,isLoading:!0,user:null,accessToken:null,refreshToken:null});function h(i,a,e){f.set({isAuthenticated:!0,isLoading:!1,user:i,accessToken:null,refreshToken:null})}function d(i){f.set({...f.get(),isLoading:i})}function g(){f.set({isAuthenticated:!1,isLoading:!1,user:null,accessToken:null,refreshToken:null})}export{f as $,h as a,g as c,d as s};
