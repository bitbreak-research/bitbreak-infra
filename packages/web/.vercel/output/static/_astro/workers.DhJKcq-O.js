async function o(r,e){try{const t=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),s=await t.json();return t.ok?{success:!0,data:s}:{success:!1,error:s.error||{code:"UNKNOWN",message:"An error occurred"}}}catch{return{success:!1,error:{code:"NETWORK",message:"Network error"}}}}async function n(r){try{const e=await fetch(r,{method:"GET",credentials:"include"}),t=await e.json();return e.ok?{success:!0,data:t}:{success:!1,error:t.error||{code:"UNKNOWN",message:"An error occurred"}}}catch{return{success:!1,error:{code:"NETWORK",message:"Network error"}}}}async function c(r){try{const e=await fetch(r,{method:"DELETE",credentials:"include"}),t=await e.json();return e.ok?{success:!0,data:t}:{success:!1,error:t.error||{code:"UNKNOWN",message:"An error occurred"}}}catch{return{success:!1,error:{code:"NETWORK",message:"Network error"}}}}async function a(r){return o("/api/workers",{name:r})}async function u(r){return n(`/api/workers/${r}`)}async function i(r){return c(`/api/workers/${r}`)}async function f(r){return o(`/api/workers/${r}/token`,{})}async function d(r,e){const t=new URLSearchParams;e?.from&&t.append("from",e.from),e?.to&&t.append("to",e.to),e?.limit&&t.append("limit",e.limit.toString());const s=`/api/workers/${r}/metrics${t.toString()?`?${t.toString()}`:""}`;return n(s)}async function k(){return n("/api/workers/status")}async function l(r){return o(`/api/workers/${r}/start`,{})}async function p(r){return o(`/api/workers/${r}/stop`,{})}export{u as a,d as b,a as c,p as d,i as e,k as g,f as r,l as s};
